<!-- Loader -->
<div *ngIf="loader.loading()" class="loader-overlay">
  <mat-spinner></mat-spinner>
</div>

<mat-card *ngIf="history.length">
  <mat-card-title>Conversion History</mat-card-title>
  <mat-card-content>
    <table mat-table [dataSource]="history" class="mat-elevation-z8">

      <!-- From Currency -->
      <ng-container matColumnDef="fromCurrency">
        <th mat-header-cell *matHeaderCellDef>From</th>
        <td mat-cell *matCellDef="let element">{{ element.fromCurrency }}</td>
      </ng-container>

      <!-- To Currency -->
      <ng-container matColumnDef="toCurrency">
        <th mat-header-cell *matHeaderCellDef>To</th>
        <td mat-cell *matCellDef="let element">{{ element.toCurrency }}</td>
      </ng-container>

      <!-- Amount -->
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Amount</th>
        <td mat-cell *matCellDef="let element">{{ element.amount | number:'1.2-2' }}</td>
      </ng-container>

      <!-- Converted Amount -->
      <ng-container matColumnDef="convertedAmount">
        <th mat-header-cell *matHeaderCellDef>Converted</th>
        <td mat-cell *matCellDef="let element">{{ element.convertedAmount | number:'1.2-2' }}</td>
      </ng-container>

      <!-- Rate -->
      <ng-container matColumnDef="rate">
        <th mat-header-cell *matHeaderCellDef>Rate</th>
        <td mat-cell *matCellDef="let element">{{ element.rate | number:'1.4-4' }}</td>
      </ng-container>

      <!-- Conversion Date -->
      <ng-container matColumnDef="conversionDate">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let element">{{ element.conversionDate | date:'shortDate' }}</td>
      </ng-container>

      <!-- Status -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">{{ element.status }}</td>
      </ng-container>

      <!-- Header & Row -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card-content>
</mat-card>

<!-- No History -->
<mat-card *ngIf="!history.length && !loader.loading()">
  <mat-card-content>No conversion history available.</mat-card-content>
</mat-card>
